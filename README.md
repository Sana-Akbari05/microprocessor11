# microprocessor11
# ریزپردازنده و زبان های اسمبلی
# جلسه 11ام
# OLED
# ثنا اکبری
**OLED**
در این برنامه از نمایشگر OLED مبتنی بر درایور SSD1306 استفاده شده و هدف آن نمایش هم‌زمان آیکن‌ها، متن و کاراکترهای بزرگ روی یک صفحه گرافیکی ۱۲۸ در ۶۴ است. در ابتدای کد، تنظیمات مربوط به ابعاد نمایشگر، نحوه تأمین ولتاژ و پایه‌های ارتباطی SPI مشخص شده‌اند و یک بافر گرافیکی تعریف شده که نقش حافظه موقت تصویر را دارد. تمام عناصر گرافیکی ابتدا داخل این بافر نوشته می‌شوند و در نهایت یک‌جا روی نمایشگر ارسال می‌گردند.

در بخش راه‌اندازی، ارتباط سریال فقط برای نمایش پیام شروع به کار فعال می‌شود و سپس نمایشگر OLED مقداردهی اولیه می‌شود. بعد از آن، صفحه نمایش پاک می‌شود تا بافر از داده‌های قبلی خالی باشد. در ادامه، چند تصویر بیتی از پیش تعریف‌شده روی نقاط مشخصی از صفحه رسم می‌شوند. این تصاویر شامل آیکن‌هایی مانند آنتن سیگنال، بلوتوث، پیام، شبکه و باتری هستند که معمولاً در نوار بالای نمایشگر دیده می‌شوند و ظاهر کلی صفحه را شبیه رابط کاربری یک دستگاه الکترونیکی می‌کنند.

پس از نمایش آیکن‌ها، در قسمت پایین صفحه چند متن کوتاه نوشته می‌شود که نقش منو را دارند. کلمات MUSIC، MENU و PHONE در موقعیت‌های مشخص قرار گرفته‌اند تا حس یک منوی گرافیکی ساده را القا کنند. سپس در بخش میانی صفحه، کاراکترهای بزرگ با فونت ۳۲ در ۱۶ رسم می‌شوند که کنار هم قرار گرفتن آن‌ها یک نمایش شبیه ساعت دیجیتال را ایجاد می‌کند. این کاراکترها به‌صورت جداگانه و در موقعیت‌های دقیق رسم شده‌اند تا فاصله و چینش آن‌ها کاملاً کنترل‌شده باشد.

در نهایت، با ارسال دستور نمایش، محتوای کامل بافر روی OLED ظاهر می‌شود. از آن‌جایی که حلقه اصلی برنامه خالی است، تصویر رسم‌شده ثابت باقی می‌ماند و تغییر نمی‌کند. این کد نمونه‌ای از نحوه استفاده از OLED برای ساخت یک رابط گرافیکی ساده است که می‌تواند پایه‌ای برای پروژه‌هایی مانند ساعت دیجیتال، منوی دستگاه یا نمایش وضعیت سیستم باشد.
مشاهده کد:
11/oled/oled.ino
مشاهده شماتیک:
<img width="930" height="711" alt="OLED_SCHEMATIC" src="https://github.com/user-attachments/assets/4746c56c-54a1-4385-ae82-468357f0a9ac" />
مشاهده خروجی:


Uploading document_5915876949804194346.mp4…

**OLED ANIMATION**
در این برنامه از یک نمایشگر OLED با درایور SSD1306 استفاده شده و هدف، ساخت یک صفحه‌ی گرافیکی ثابت شامل آیکن‌ها، متن و اعداد بزرگ است. در ابتدای کد، تنظیمات مربوط به نمایشگر مشخص شده‌اند؛ از جمله ابعاد صفحه که ۱۲۸ در ۶۴ پیکسل است و نحوه ارتباط که بر پایه SPI تعریف شده است. همچنین یک بافر گرافیکی به اندازه کل صفحه نمایش ایجاد شده که تمام داده‌های تصویری ابتدا داخل آن ذخیره می‌شوند و بعد به‌صورت یک‌جا روی OLED نمایش داده می‌شوند. این روش باعث می‌شود کنترل دقیق‌تری روی محتوای صفحه وجود داشته باشد و از پرش تصویر جلوگیری شود.

در بخش setup ابتدا ارتباط سریال فقط برای نمایش پیام شروع برنامه فعال می‌شود و سپس نمایشگر OLED مقداردهی اولیه می‌گردد. بعد از راه‌اندازی، صفحه پاک می‌شود تا بافر کاملاً خالی باشد. در ادامه، چند تصویر بیتی از پیش تعریف‌شده روی مختصات مشخصی از صفحه رسم می‌شوند. این تصاویر شامل آیکن‌هایی مانند قدرت سیگنال، بلوتوث، پیام، شبکه و باتری هستند که در ردیف بالایی صفحه قرار گرفته‌اند و ظاهر صفحه را شبیه رابط کاربری یک دستگاه هوشمند می‌کنند. هر آیکن با توجه به اندازه خودش در موقعیت دقیق قرار داده شده تا چیدمان منظم و متقارن داشته باشد.

پس از نمایش آیکن‌ها، در بخش پایینی صفحه چند متن کوتاه نوشته می‌شود که نقش منوی کاربری را دارند. کلمات MUSIC، MENU و PHONE در مکان‌های مشخصی قرار گرفته‌اند تا حس وجود گزینه‌های قابل انتخاب را القا کنند. در قسمت میانی صفحه نیز کاراکترهای بزرگ با فونت ۳۲ در ۱۶ رسم شده‌اند که کنار هم قرار گرفتن آن‌ها نمایی شبیه نمایش ساعت دیجیتال ایجاد می‌کند. این کاراکترها به‌صورت جداگانه و با مختصات دقیق روی صفحه قرار داده شده‌اند تا فاصله و ترتیب آن‌ها کاملاً کنترل‌شده باشد.

در پایان، با دستور نمایش، کل محتوای بافر به OLED ارسال می‌شود و تصویر نهایی روی صفحه ظاهر می‌گردد. از آن‌جایی که تابع loop خالی است، تصویر ثابت باقی می‌ماند و تغییری در آن ایجاد نمی‌شود. این کد نمونه‌ای از نحوه استفاده از نمایشگر OLED برای طراحی یک رابط گرافیکی ساده است و می‌تواند پایه‌ای برای پروژه‌هایی مثل ساعت دیجیتال، منوی دستگاه یا نمایش وضعیت سیستم باشد.
مشاهده کرد:
11/OLED_Animation_Example/OLED_Animation_Example.ino
مشاهده شماتیک:
<img width="930" height="711" alt="OLED_SCHEMATIC" src="https://github.com/user-attachments/assets/b9f7f1b6-581a-4edd-8fd8-a0a13474553d" />
مشاهده خروجی:




**OLED & HUMIDITY**
این کدی که فرستادی در اصل ترکیبی از راه‌اندازی نمایشگر OLED با درایور SSD1306 و خواندن داده از سنسور دما و رطوبت DHT11 است که خروجی آن به‌صورت گرافیکی روی نمایشگر نشان داده می‌شود. ساختار کلی برنامه طوری طراحی شده که ابتدا سخت‌افزارها مقداردهی اولیه شوند، بعد داده‌ی محیطی خوانده شود و در نهایت بر اساس مقدار رطوبت، وضعیت گرافیکی مشخصی روی OLED نمایش داده شود.

در ابتدای برنامه کتابخانه‌های مربوط به ارتباط SPI و I2C و همچنین فایل ssd1306.h اضافه شده‌اند که وظیفه‌ی کنترل نمایشگر را بر عهده دارد. بعد از آن، پایه‌های مربوط به OLED مثل RST، DC، CS و خطوط SPI تعریف شده‌اند تا ارتباط سخت‌افزاری بین آردوینو و نمایشگر مشخص باشد. همچنین یک بافر به اندازه‌ی کل صفحه‌ی نمایش ساخته شده که تمام عملیات رسم، نوشتن متن و نمایش تصاویر ابتدا داخل این بافر انجام می‌شود و در انتها یک‌جا روی نمایشگر فرستاده می‌شود. این روش باعث می‌شود تصویر بدون پرش و ناهماهنگی نمایش داده شود.

در ادامه، سنسور DHT11 تعریف و مقداردهی شده است. این سنسور دما و رطوبت محیط را می‌خواند و مقادیر آن داخل متغیرهایی مثل TEMP و HUMID ذخیره می‌شود. تمرکز اصلی این کد روی رطوبت است، به‌طوری که مقدار HUMID مبنای تصمیم‌گیری برای نمایش وضعیت گرافیکی می‌شود. برای نمایش عقربه یا حالت‌های مختلف، چندین آرایه‌ی bitmap بزرگ در حافظه‌ی برنامه تعریف شده‌اند که هر کدام یک شکل گرافیکی متفاوت را نشان می‌دهند. این تصاویر در واقع حالت‌های مختلف عقربه هستند که هر کدام بازه‌ای از رطوبت را نمایش می‌دهند.

منطق برنامه به این صورت است که بعد از خواندن مقدار رطوبت، برنامه بررسی می‌کند رطوبت در چه بازه‌ای قرار دارد و متناسب با آن، یکی از این bitmapها روی OLED رسم می‌شود. به این شکل، کاربر به‌جای دیدن یک عدد ساده، یک نمایش بصری شبیه آمپر یا عقربه می‌بیند که وضعیت رطوبت محیط را واضح‌تر و قابل‌فهم‌تر نشان می‌دهد. در نهایت با فراخوانی تابع نمایش، محتوای بافر روی صفحه OLED ارسال می‌شود و تصویر نهایی به‌روزرسانی می‌شود. این سبک پیاده‌سازی هم از نظر گرافیکی قوی است و هم برای پروژه‌های مانیتورینگ محیطی بسیار کاربردی و حرفه‌ای به نظر می‌رسد.
مشاهده کد:
11/HUMID_OLED/HUMID_OLED.ino
مشاهده شماتیک:

مشاهده خروجی:


